{% extends 'base.html' %}
{% load i18n %}

{% block title %}网站首页{% endblock %}

{% block content %}

    <h1>welcome</h1>
    <div class="welcome">

        {#    {% for key,value in request.session.userinfo.items %}#}
        {#      {{ key }} ：{{ value }} <br />#}
        {#    {% endfor %}#}

        {% if request.session.userinfo.uid %} {# 判断是否已经登陆 #}

            你好，{{ request.session.userinfo.email }} <p></p>

            <a href="/app1/logout">登出</a>

        {% else %} {# 没有登陆 #}

            你好，游客，请
            <button data-toggle="modal" data-target="#myModal">注册</button> 或者
            <button data-toggle="modal" data-target="#myModala">登陆</button>

        {% endif %}

    </div>







{#    <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal"></button>#}
    <!-- 模态框（Modal） -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">注册</h4>
                </div>
                <div class="modal-body">
                    {% include 'users/register.html' %}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary">提交更改</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
{#    <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModala">开始演示模态框</button>#}
    <!-- 模态框（Modal） -->
    <div class="modal fade" id="myModala" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">登陆</h4>
                </div>
                <div class="modal-body">
                    {% include 'users/login.html' %}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary">提交更改</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>


{% endblock %}

